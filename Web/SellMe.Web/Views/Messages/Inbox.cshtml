@model List<InboxMessageViewModel>

@{
    ViewData["Title"] = "Inbox";
}

<div class="container-fluid">
    <div class="row">
        <div class="offset-2 col-8">
            <h3 class="text-center">Inbox:</h3>
            <hr class="hr-sell-me" />
            <div class="card text-center">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs">
                        <li class="nav-item">
                            <a class="nav-link active" href="#">Inbox</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" asp-controller="Messages" asp-action="SentBox">Sent Box</a>
                        </li>
                    </ul>
                    <div class="card-body">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Sender</th>
                                    <th scope="col">Ad Title</th>
                                    <th scope="col">Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                @for (int i = 0; i < @Model.Count(); i++)
                                {
                                    var messageParams = new Dictionary<string, string>
                                    {
                                        { "senderId",  Model[i].SenderId},
                                        { "sellerId", Model[i].SellerId },
                                        {"adId", Model[i].AdId.ToString() }
                                    };

                                    <tr>
                                        <th scope="row">@i</th>
                                        <td>@Model[i].Sender</td>
                                        <td><a asp-controller="Messages" asp-action="Details" asp-all-route-data="messageParams">@Model[i].AdTitle</a></td>
                                        <td>@Model[i].SentOn.ToString("g")</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>